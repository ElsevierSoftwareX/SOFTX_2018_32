{
  "name": "Wrf-arw",
  "dbName": "wrf_arw",
  "type": "Meteo",
  "parametersCategories": [
      {"name":"Domain", "value":1},
      {"name":"Time Control", "value":2},
      {"name":"Run Option", "value":3},
      {"name":"Physics Option", "value":4},
      {"name":"Diffusion and Dynamic Options", "value":5},
      {"name":"Submit", "value":6}
  ],
  "parameters": [
    {
        "parameterType":"float",
        "value":54,
        "displayName":"Grid Spacing",
        "dbName": "grid_spacing",
        "required": true,
        "description": "The dimension of the grid in the domains",
        "disabled": false,
        "dependencies":["parental_grid_ratio"],
        "computedResult":"return parameter.value*3;",
        "parameterCategory":3,
        "isValid" : "if(parameter.value<dependencies['parental_grid_ratio'].value){isValid.valid= false; isValid.message=parameter.displayName+' must be greater than '+dependencies['parental_grid_ratio'].displayName;}"
    },
    { "parameterType":"datetime",
      "value":null,
      "required": true,
      "disabled": false,
      "displayName":"Start time",
      "description": "Start date for the experiment",
      "dbName": "start_time",
      "dependencies":["end_time"],
      "parameterCategory":2,
      "hasDate": true,
      "hasTime":true,
      "computedResult":"return parameter.value;",
      "isValid" :"if(dependencies['end_time'].value<parameter.value){isValid.valid= false; isValid.message = parameter.displayName + ' must be earlier than '+dependencies['end_time'].displayName;}"
    },
      {
        "parameterType":"datetime",
        "value":"Mon Oct 26 2015 00:00:00 GMT+0100 (CET)",
        "displayName":"End time",
        "dbName": "end_time",
        "dependencies":["start_time"],
        "description": "End date for the experiment",
        "required": false,
        "disabled": false,
        "parameterCategory":2,
        "hasDate": true,
        "hasTime":true,
        "computedResult":"return parameter.value;",
        "isValid" : "if(dependencies['start_time'].value>parameter.value){isValid.valid= false; isValid.message = parameter.displayName + ' must be greater than '+dependencies['start_time'].displayName;}"
    },
    {
        "parameterType":"integer",
        "value":18,
        "required": true,
        "disabled": false,
        "displayName":"Parental Grid Ratio",
        "description": "Insert a description for your configuration",
        "dbName": "parental_grid_ratio",
        "parameterCategory":4,
        "dependencies":["grid_spacing"],
        "computedResult":"return parseInt(parameter.value)+dependencies['grid_spacing'].value;",
        "isValid":"if(parameter.value<10) {isValid.valid= false; isValid.message=parameter.displayName+' must be bigger then 9';} "
    },
    {
        "parameterType":"select",
        "value":1,
        "displayName":"Physics",
        "description": "Insert a description for your configuration",
        "disabled": false,
        "dbName": "physics",
        "parameterCategory":4,
        "values": [{"name":"Option 1", "value":0}, {"name":"Option 2", "value":1}],
        "dependencies":[],
        "computedResult":"return parameter.value",
        "isValid":"if(parameter.value==0){isValid.valid=false; isValid.message='Select a value'}"
    },
    {
        "parameterType":"domains",
        "description": "The geographical place in which run your experiment",
        "center": {"lat":44.496,"long":8.9209},
        "mapZoom":8,
        "parameterCategory":1,
        "value":{
          "domains": [
          {
            "id": 32569,
            "southWest": {"lat":43.496, "long":8.0209},
            "northEast": {"lat":46.496, "long":10.0209}
          },
          {
            "id": 32570,
            "southWest":{"lat":43.996, "long":8.6209},
            "northEast":{"lat":45.496, "long":9.8209}
          },
          {
            "id": 32571,
            "southWest":{"lat":44.796, "long":9.2209},
            "northEast":{"lat":45.096, "long":9.5209}
          }
        ],
        "markers": [
            {"lat":44.42593442145313, "long":8.914546966552734, "id": 234567}
         ]
        } ,
        "displayName": "Domains",
        "dbName": "wrfdomains",
        "dependencies": [],
        "required": true,
        "disabled": false,
        "parameterCategory": 1,
        "onlyNested": true,
        "allowMarkersOutDomains": false,
        "maxDomains": 2,
        "maxMarkers": 2,
        "required": {"markers":false, "domains":true},
        "drawDomains": true,
        "drawMarkers": true,
        "computedResult": "var val = parameter.value.domains;var retString = '';for(var i=1;i<=val.length;i++){retString+='Domain number'+i+' - South-West: ('+val[i-1].southWest.lat+', '+val[i-1].southWest.long+') North-East: ('+val[i-1].northEast.lat+', '+val[i-1].northEast.long+')';}return retString;",
        "isValid": "if(parameter.value.domains.length==4) isValid.valid=false; isValid.message = 'Length must be different from 4';"
    },
      {
            "parameterType":"domains",
            "center": {"lat":45.496,"long":8.9209},
            "mapZoom":8,
            "parameterCategory":1,
            "value":{
              "domains": [
              {
                "id": 32569,
                "southWest": {"lat":45.496, "long":8.0209},
                "northEast": {"lat":46.496, "long":10.0209}
              },
              {
                "id": 32571,
                "southWest":{"lat":44.796, "long":9.2209},
                "northEast":{"lat":45.096, "long":9.5209}
              }
            ],
            "markers": [
                {"lat":44.42593442145313, "long":8.954546966552734, "id": 234567},
                {"lat":46.42593442145313, "long":8.954546966552734, "id": 234568},
                {"lat":44.9570, "long":9.4373, "id": 234569}
             ]
            } ,
            "displayName": "Domains",
            "dbName": "otherdomains",
            "description": "The geographical place in which run your experiment 2",
            "dependencies": [],
            "required": {"markers":true, "domains":false},
            "disabled": false,
            "parameterCategory": 1,
            "onlyNested": false,
            "allowMarkersOutDomains": false,
            "maxDomains": 3,
            "maxMarkers": 3,
            "drawDomains": true,
            "drawMarkers": true,
            "computedResult": "var val = parameter.value.domains;var retString = '';for(var i=1;i<=val.length;i++){retString+='Domain number'+i+' - South-West: ('+val[i-1].southWest.lat+', '+val[i-1].southWest.long+') North-East: ('+val[i-1].northEast.lat+', '+val[i-1].northEast.long+')';}return retString;",
            "isValid": "if(parameter.value.domains.length==4) isValid.valid=false; isValid.message = 'Length must be different from 4';"
        },
     {
        "parameterType":"text",
        "value":"Prova",
        "displayName":"Description",
        "parameterCategory":6,
        "dbName": "description",
        "dependencies":[],
        "disabled": false,
        "required": true,
        "description": "Insert a description for your configuration",
        "computedResult":"return parameter.value;",
        "isValid":""
    },
     {
       "parameterType":"fileupload",
        "value":[
          {
            "fileName": "composer.json",
            "data":"data:application/json;base64,ewogICAgInJlcXVpcmUiOiB7CiAgICAgICAgInNsaW0vc2xpbSI6ICIyLioiLAogICAgICAgICJqNG1pZS9pZGlvcm0iOiAiMS41LjEiLAogICAgICAgICJnaW5xL2dpbnEiOiAiMC4yLjIiLAogICAgICAgICJmbHluc2FybXkvc2xpbS1tb25vbG9nIjogIjEuMC4wIiwKICAgICAgICAianVzdGlucmFpbmJvdy9qc29uLXNjaGVtYSI6ICJ+MS4zIgogICAgfSwKICAgICJhdXRvbG9hZCI6IHsKICAgICAgICAicHNyLTQiOiB7CiAgICAgICAgICAgICJNeVxcIjogImNsYXNzZXMvIgogICAgICAgIH0KICAgIH0KfQo="
          }
        ],
        "displayName":"Upload namelist",
        "dbName": "upload",
        "parameterCategory":5,
        "disabled": false,
        "description": "this is the key setup to define a two-way nested (or one-way nested) run. When feedback is on, the values of the coarse domain are overwritten by the values of the variables (average of cell values for mass points, and average of the cell-face values for horizontal momentum points) in the nest at the coincident points. For masked fields, only the single point value at the collocating points is fed back. If the parent_grid_ratio is even, an arbitrary choice of  the southwest corner point value is used for feedback. This is the reason it is better to use an odd parent_grid_ratio with this option. When feedback is off , it is equivalent to a one-way nested run, since nest results are not reflected in the parent domain.",
        "dependencies":[],
        "computedResult":"return parameter.value;",
        "isValid":"",
        "maxSize":"3MB",
        "maxUpload":5,
        "minUpload":1,
        "allowedExtensions": ""
     }

    ]


}
