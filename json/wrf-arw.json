{
  "name": "Wrf-arw",
  "dbName": "wrf_arw",
  "type": "Meteo",
  "parametersCategories": [
      {"name":"Domain", "value":1},
      {"name":"Time Control", "value":2},
      {"name":"Run Option", "value":3},
      {"name":"Physics Option", "value":4},
      {"name":"Diffusion and Dynamic Options", "value":5},
      {"name":"Submit", "value":6}
  ],
  "parameters": [
    {
        "parameterType":"float",
        "value":54,
        "displayName":"Grid Spacing",
        "dbName": "grid_spacing",
        "dependencies":["parental_grid_ratio"],
        "computedResult":"return parameter.value*3;",
        "parameterCategory":3,
        "isValid" : "if(parameter.value<dependencies['parental_grid_ratio'].value){isValid.valid= false; isValid.message=parameter.displayName+' must be greater than '+dependencies['parental_grid_ratio'].displayName;}"
    },
    { "parameterType":"datetime",
      "value":"Mon Oct 26 2015 00:00:00 GMT+0100 (CET)",
      "displayName":"Start time",
      "dbName": "start_time",
      "dependencies":["end_time"],
      "parameterCategory":2,
      "hasDate": true,
      "hasTime":true,
      "computedResult":"return parameter.value;",
      "isValid" :"if(dependencies['end_time'].value<parameter.value){isValid.valid= false; isValid.message = parameter.displayName + ' must be earlier than '+dependencies['end_time'].displayName;}"
    },
      {
        "parameterType":"datetime",
        "value":"Mon Oct 26 2015 00:00:00 GMT+0100 (CET)",
        "displayName":"End time",
        "dbName": "end_time",
        "dependencies":["start_time"],
        "parameterCategory":2,
        "hasDate": true,
        "hasTime":true,
        "computedResult":"return parameter.value;",
        "isValid" : "if(dependencies['start_time'].value>parameter.value){isValid.valid= false; isValid.message = parameter.displayName + ' must be greater than '+dependencies['start_time'].displayName;}"
    },
    {
        "parameterType":"integer",
        "value":18,
        "displayName":"Parental Grid Ratio",
        "dbName": "parental_grid_ratio",
        "parameterCategory":4,
        "dependencies":["grid_spacing"],
        "computedResult":"return parseInt(parameter.value)+dependencies['grid_spacing'].value;",
        "isValid":"if(parameter.value<10) {isValid.valid= false; isValid.message=parameter.displayName+' must be bigger then 9';} "
    },
    {
        "parameterType":"select",
        "value":1,
        "displayName":"Physics",
        "dbName": "physics",
        "parameterCategory":4,
        "values": [{"name":"Option 1", "value":0}, {"name":"Option 2", "value":1}],
        "dependencies":[],
        "computedResult":"return parameter.value",
        "isValid":"if(parameter.value==0){isValid.valid=false; isValid.message='Select a value'}"
    },
    {
        "parameterType":"domains",
        "center": {"lat":44.496,"long":8.9209},
        "mapZoom":8,
        "parameterCategory":1,
        "value":{
          "wrfdomains0": {
            "southWest": {"lat":43.496, "long":8.0209},
            "northEast": {"lat":46.496, "long":10.0209}
          },
          "wrfdomains1": {
            "southWest":{"lat":43.996, "long":8.6209},
            "northEast":{"lat":45.496, "long":9.8209}
          },
          "wrfdomains2": {
            "southWest":{"lat":44.796, "long":9.2209},
            "northEast":{"lat":45.096, "long":9.5209}
          }
        } ,
        "displayName":"Domains",
        "dbName": "wrfdomains",
        "dependencies":[],
        "parameterCategory":1,
        "onlyNested":true,
        "maxDomains":4,
        "computedResult":"var val = parameter.value; var keys =Object.keys(val);var retString = '';for(var i=1;i<=keys.length;i++){retString+='Domain number'+i+' - South-West: ('+val[keys[i-1]].southWest.lat+', '+val[keys[i-1]].southWest.long+') North-East: ('+val[keys[i-1]].northEast.lat+', '+val[keys[i-1]].northEast.long+')';}return retString;",
        "isValid":""
    },
     {
        "parameterType":"text",
        "value":"Prova",
        "displayName":"Description",
        "parameterCategory":6,
        "dbName": "description",
        "dependencies":[],
        "computedResult":"return parameter.value;",
        "isValid":""
    },
     {
       "parameterType":"fileupload",
        "value":[],
        "displayName":"Upload namelist",
        "dbName": "upload",
        "parameterCategory":5,
        "dependencies":[],
        "computedResult":"return 'ok'",
        "isValid":"",
        "maxSize":"3MB",
        "maxUpload":2,
        "minUpload":1
     }

    ]


}
